(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5781707b"],{"10cd":function(t,e,s){},2066:function(t,e,s){},"3a93":function(t,e,s){"use strict";s("10cd")},4169:function(t,e,s){"use strict";s("2066")},"56f5":function(t,e,s){},"6a6d":function(t,e,s){},7088:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"personal"},[s("TopBackground"),t._t("fix")],2)},a=[],n=s("e4d7"),o={components:{TopBackground:n["a"]},methods:{onClickLeft:function(){this.$router.back()}}},r=o,c=(s("3a93"),s("2877")),d=Object(c["a"])(r,i,a,!1,null,"40358900",null);e["a"]=d.exports},"7d27":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mylike"},[s("div",{staticClass:"p-top-nav"},[s("van-nav-bar",{attrs:{title:"我的订单","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),s("User",{scopedSlots:t._u([{key:"fix",fn:function(){return[s("div",{staticClass:"content-box"},[s("van-tabs",{attrs:{color:"#854C21"},on:{change:t.toggleContent},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.navLists,(function(e){return s("van-tab",{key:e.status,attrs:{title:e.title}},[t.orderMsg.length>0?s("div",t._l(t.orderMsg,(function(e,i){return s("div",{key:i,staticClass:"product-box"},[s("OrderList",{attrs:{myOrderList:e.proInfo},scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"order-number"},[t._v(t._s(e.oid))]),2==e.status?s("div",{staticClass:"myor-title"},[s("div",{staticClass:"settings"},[s("span",[t._v("已完成")]),s("i",{on:{click:function(s){return t.delOrder(e.oid,i)}}},[s("van-icon",{attrs:{name:"delete-o"}})],1)])]):t._e(),1==e.status?s("div",{staticClass:"myor-title"},[s("div",{staticClass:"settings"},[s("span",{on:{click:function(s){return t.suerGet(e,i)}}},[t._v("确认收货")])])]):t._e()]},proxy:!0},{key:"product-item",fn:function(){return t._l(e.data,(function(e,i){return s("div",{key:i,staticClass:"or-goods-msg"},[s("div",{staticClass:"or-img-box"},[s("img",{staticClass:"auto-img",attrs:{src:e.smallImg}})]),s("div",{staticClass:"or-right-content"},[s("div",{staticClass:"right-content-title"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.rule))])]),s("p",[t._v(t._s(e.enname))]),s("div",{staticClass:"or-price-box"},[s("span",{staticClass:"or-price"},[t._v("￥"+t._s(e.price))]),s("span",{staticClass:"or-number"},[t._v("x"+t._s(e.count))])])])])}))},proxy:!0}],null,!0)})],1)})),0):s("div",[s("van-empty",{attrs:{description:"没有该状态的订单"}})],1)])})),1)],1)]},proxy:!0}])})],1)},a=[],n=(s("4160"),s("c975"),s("a434"),s("159b"),s("7088")),o=s("b059"),r=(s("be7a"),{components:{User:n["a"],OrderList:o["a"]},data:function(){return{active:0,navLists:[{title:"全部",status:0},{title:"进行中",status:1},{title:"已完成",status:2}],orderMsg:[]}},methods:{getOrderData:function(){var t=this,e=this.$cookies.get("tokenString");e?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:this.baseURL+"/findOrder",params:{appkey:this.appkey,tokenString:e,status:this.active}}).then((function(e){if(t.$toast.clear(),7e4==e.data.code){var s=[],i=[];e.data.result.forEach((function(t){if(-1==s.indexOf(t.oid)){var e={oid:t.oid,status:t.status,proInfo:{date:t.updatedAt,count:0,total:0},data:[]};s.push(t.oid),i.push(e)}})),i.forEach((function(t){e.data.result.forEach((function(e){t.oid==e.oid&&(t.data.push(e),t.proInfo.count+=e.count,t.proInfo.total+=e.count*e.price)}))})),t.orderMsg=i}}))):this.$router.push({name:"Login"})},onClickLeft:function(){this.$router.back()},toggleContent:function(t){this.orderMsg=[],this.getOrderData(),this.active=t},delOrder:function(t,e){var s=this,i=this.$cookies.get("tokenString");i?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.$axios({method:"POST",url:this.baseURL+"/removeOrder",data:{appkey:this.appkey,tokenString:i,oid:t}}).then((function(t){s.$toast.clear(),9e4==t.data.code&&s.$toast({message:t.data.msg,forbidClick:!0,duration:1e3}),s.orderMsg.splice(e,1)}))):this.$router.push({name:"Login"})},suerGet:function(t,e){var s=this,i=this.$cookies.get("tokenString");i?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.$axios({method:"POST",url:this.baseURL+"/receive",data:{appkey:this.appkey,tokenString:i,oid:t.oid}}).then((function(e){s.$toast.clear(),console.log("确认收货",e),8e4==e.data.code&&(t.status=2,s.$toast({message:e.data.msg,forbidClick:!0,duration:1e3}))}))):this.$router.push({name:"Login"})}},created:function(){this.getOrderData()}}),c=r,d=(s("8ae3"),s("2877")),l=Object(d["a"])(c,i,a,!1,null,"1f5f2b1f",null);e["default"]=l.exports},"8ae3":function(t,e,s){"use strict";s("6a6d")},a434:function(t,e,s){"use strict";var i=s("23e7"),a=s("23cb"),n=s("a691"),o=s("50c4"),r=s("7b0b"),c=s("65f0"),d=s("8418"),l=s("1dde"),u=s("ae40"),f=l("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,h=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var s,i,l,u,f,p,b=r(this),C=o(b.length),k=a(t,C),_=arguments.length;if(0===_?s=i=0:1===_?(s=0,i=C-k):(s=_-2,i=h(v(n(e),0),C-k)),C+s-i>g)throw TypeError(m);for(l=c(b,i),u=0;u<i;u++)f=k+u,f in b&&d(l,u,b[f]);if(l.length=i,s<i){for(u=k;u<C-i;u++)f=u+i,p=u+s,f in b?b[p]=b[f]:delete b[p];for(u=C;u>C-i+s;u--)delete b[u-1]}else if(s>i)for(u=C-i;u>k;u--)f=u+i-1,p=u+s-1,f in b?b[p]=b[f]:delete b[p];for(u=0;u<s;u++)b[u+k]=arguments[u+2];return b.length=C-i+s,l}})},b059:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orderList"},[s("div",{staticClass:"allorder"},[s("div",{staticClass:"or-title"},[t._t("title")],2),t._t("product-item"),s("div",{staticClass:"hr"}),s("div",{staticClass:"or-product-msg"},[s("div",{staticClass:"or-bottom-box"},[s("div",{staticClass:"or-bt-msg"},[s("span",{staticClass:"or-total-number"},[t._v("共计"),s("span",{staticClass:"margin-text"},[t._v(t._s(t.myOrderList.count))]),t._v("件")]),s("span",{staticClass:"or-total-price"},[t._v("合计￥"+t._s(t.myOrderList.total))])])])])],2)])},a=[],n={name:"OrderList",props:{myOrderList:{type:Object,default:function(){return{count:0,total:0,date:""}}}},filters:{}},o=n,r=(s("4169"),s("2877")),c=Object(r["a"])(o,i,a,!1,null,"0bca1133",null);e["a"]=c.exports},b7e6:function(t,e,s){"use strict";s("56f5")},be7a:function(t,e,s){},c975:function(t,e,s){"use strict";var i=s("23e7"),a=s("4d64").indexOf,n=s("a640"),o=s("ae40"),r=[].indexOf,c=!!r&&1/[1].indexOf(1,-0)<0,d=n("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!d||!l},{indexOf:function(t){return c?r.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},e4d7:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topBackground"},[s("div",{staticClass:"img-box"})])}],n={name:"TopBackground"},o=n,r=(s("b7e6"),s("2877")),c=Object(r["a"])(o,i,a,!1,null,"a239ad60",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-5781707b.bc4fc332.js.map