{"version":3,"sources":["webpack:///./src/views/Menu.vue?e41b","webpack:///src/views/Menu.vue","webpack:///./src/views/Menu.vue?87da","webpack:///./src/views/Menu.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","focusFun","style","height","model","value","callback","$$v","show","expression","searchFun","blurFun","searchValue","searchList","length","_l","item","key","id","$event","goDetailsPage","smallImg","_v","_s","name","enname","price","items","activeId","activeIndex","toggleNav","scopedSlots","_u","fn","proxy","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-16fad927.11192e0f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('van-search',{attrs:{\"shape\":\"round\",\"placeholder\":\"请输入搜索关键词\"},on:{\"focus\":_vm.focusFun}}),_c('van-popup',{style:({ height: '50%' }),attrs:{\"position\":\"top\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-search',{attrs:{\"shape\":\"round\",\"placeholder\":\"请输入搜索关键词\",\"autofocus\":true},on:{\"focus\":_vm.focusFun,\"search\":_vm.searchFun,\"blur\":_vm.blurFun},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_c('div',{staticClass:\"search-show\"},[(_vm.searchList.length > 0)?_c('div',{staticClass:\"box\"},_vm._l((_vm.searchList),function(item){return _c('div',{key:item.id,staticClass:\"goodsList\",on:{\"click\":function($event){return _vm.goDetailsPage(item)}}},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.smallImg}}),_c('div',{staticClass:\"men-content-box\"},[_c('div',{staticClass:\"men-title\"},[_c('div',{staticClass:\"men-g-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"men-g-enname van-ellipsis\"},[_vm._v(_vm._s(item.enname))])]),_c('div',{staticClass:\"men-price\"},[_vm._v(\"￥\"+_vm._s(item.price))])])])}),0):_c('div',{staticClass:\"emp-box\"},[_c('van-empty',{attrs:{\"description\":\"暂无内容\"}})],1)])],1),_c('van-tree-select',{attrs:{\"items\":_vm.items,\"height\":\"90vh\",\"active-id\":_vm.activeId,\"main-active-index\":_vm.activeIndex},on:{\"click-nav\":_vm.toggleNav,\"update:activeId\":function($event){_vm.activeId=$event},\"update:active-id\":function($event){_vm.activeId=$event},\"update:mainActiveIndex\":function($event){_vm.activeIndex=$event},\"update:main-active-index\":function($event){_vm.activeIndex=$event}},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"box\"},_vm._l((_vm.goodsData),function(item){return _c('div',{key:item.id,staticClass:\"goodsList\",on:{\"click\":function($event){return _vm.goDetailsPage(item)}}},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.smallImg}}),_c('div',{staticClass:\"men-content-box\"},[_c('div',{staticClass:\"men-title\"},[_c('div',{staticClass:\"men-g-name\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"men-g-enname van-ellipsis\"},[_vm._v(_vm._s(item.enname))])]),_c('div',{staticClass:\"men-price\"},[_vm._v(\"￥\"+_vm._s(item.price))])])])}),0)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"menu\">\r\n        <van-search\r\n            shape=\"round\"\r\n            placeholder=\"请输入搜索关键词\"\r\n            @focus = focusFun\r\n        />\r\n        <!-- <div class=\"menu-banner-box\"></div> -->\r\n        <van-popup v-model=\"show\" position=\"top\"  :style=\"{ height: '50%' }\">\r\n            <van-search\r\n                v-model=\"searchValue\"\r\n                shape=\"round\"\r\n                placeholder=\"请输入搜索关键词\"\r\n                @focus = focusFun\r\n                @search = searchFun\r\n                :autofocus=\"true\"\r\n                @blur = blurFun\r\n            />\r\n            <div class=\"search-show\">\r\n                <div class=\"box\" v-if=\"searchList.length > 0\">\r\n                    <div class=\"goodsList\" @click=\"goDetailsPage(item)\" v-for=\"item in searchList\" :key=\"item.id\">\r\n                        <img class=\"auto-img\" :src=\"item.smallImg\" />\r\n                        <div class=\"men-content-box\">\r\n                            <div class=\"men-title\">\r\n                                <div class=\"men-g-name\">{{item.name}}</div>\r\n                                <div class=\"men-g-enname van-ellipsis\">{{item.enname}}</div>\r\n                            </div>\r\n                            <div class=\"men-price\">￥{{item.price}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"emp-box\" v-else>\r\n                    <van-empty description=\"暂无内容\" />\r\n                </div>\r\n            </div>\r\n        </van-popup>\r\n        <van-tree-select\r\n            :items=\"items\"\r\n            height=\"90vh\"\r\n            @click-nav=\"toggleNav\"\r\n            :active-id.sync=\"activeId\"\r\n            :main-active-index.sync=\"activeIndex\"\r\n        >\r\n            <template #content>\r\n                <div class=\"box\">\r\n                    <div class=\"goodsList\" @click=\"goDetailsPage(item)\" v-for=\"item in goodsData\" :key=\"item.id\">\r\n                        <img class=\"auto-img\" :src=\"item.smallImg\" />\r\n                        <div class=\"men-content-box\">\r\n                            <div class=\"men-title\">\r\n                                <div class=\"men-g-name\">{{item.name}}</div>\r\n                                <div class=\"men-g-enname van-ellipsis\">{{item.enname}}</div>\r\n                            </div>\r\n                            <div class=\"men-price\">￥{{item.price}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </van-tree-select>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport '../assets/less/menu.less'\r\n    export default {\r\n        data() {\r\n            return {\r\n                // 导航栏数据s\r\n                items:[],\r\n                activeId: 1,\r\n                activeIndex: 0,\r\n                // 导航栏数据e\r\n                content:0,// 商品导航下标\r\n                goodsType:[],// 商品类型\r\n                goodsData:[],//商品数据\r\n                isOne:false,//是否是第一次进来的推荐\r\n                show:false,// 搜索弹出层\r\n                searchValue:'',//搜索的内容\r\n                searchList:[],//搜索的结果\r\n\r\n            };\r\n        },\r\n        created(){\r\n            this.getCommendData();\r\n        },\r\n        methods:{\r\n            // 切换导航条\r\n            toggleNav(index){\r\n                // console.log(index);\r\n                this.content = index;\r\n                this.requestGoods(index);\r\n            },\r\n            //获取商品信息      \r\n            getCommendData(){\r\n                this.$toast.loading({\r\n                    message: \"加载中...\",\r\n                    forbidClick: true,\r\n                    duration: 0,\r\n                });\r\n\r\n                this.isOne = true;\r\n\r\n                this.axios({\r\n                    method: \"GET\",\r\n                    url: this.baseURL + \"/type\",\r\n                    params: {\r\n                        appkey: this.appkey,\r\n                    },\r\n                }).then(data => {\r\n                    this.$toast.clear();\r\n                    // console.log(data);\r\n                    if(data.data.code == 400){\r\n                        this.items.push({text:'推荐'});\r\n                        this.goodsType = data.data.result;\r\n                        data.data.result.forEach(v=>{\r\n                            this.items.push({text:v.typeDesc});\r\n                        })\r\n                        if(this.isOne){\r\n                            this.requestGoods(0);\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            // 切换导航条时请求不同的商品\r\n            requestGoods(value){\r\n                this.$toast.loading({\r\n                    message: \"加载中...\",\r\n                    forbidClick: true,\r\n                    duration: 0,\r\n                });\r\n\r\n\r\n                if(this.content == 0){\r\n                    this.axios({\r\n                        method:'GET',\r\n                        url:this.baseURL + '/typeProducts',\r\n                        params:{\r\n                            appkey:this.appkey,\r\n                            key:'isHot',\r\n                            value:1\r\n                        }\r\n                    }).then(data=>{\r\n                        this.$toast.clear();\r\n                        // console.log(data);\r\n                        if(data.data.code == 500){\r\n                            this.goodsData = data.data.result;\r\n                        }\r\n                    });\r\n                }else {\r\n                    this.axios({\r\n                         method:'GET',\r\n                         url:this.baseURL + '/typeProducts',\r\n                         params:{\r\n                             appkey:this.appkey,\r\n                             key:'type',\r\n                             value:this.goodsType[value-1].type\r\n                         }\r\n                     }).then(data=>{\r\n                         this.$toast.clear();\r\n                        //  console.log(data);\r\n                         if(data.data.code == 500){\r\n                             this.goodsData = data.data.result;\r\n                         }\r\n                     });\r\n                }\r\n\r\n            },\r\n            // 点击去到商品详情页\r\n            goDetailsPage(item){\r\n                // console.log(item);\r\n                this.$router.push({name:'Details',params:{pid:item.pid}});\r\n            },\r\n            // 搜索\r\n            focusFun(){\r\n                this.show = true;\r\n            },\r\n            // 搜索失去焦点\r\n            blurFun(){\r\n                this.searchValue = '';\r\n                this.searchList = [];\r\n            },\r\n            // 确认搜索\r\n            searchFun(value){\r\n                // console.log(value);\r\n                this.axios({\r\n                    method:'GET',\r\n                    url:this.baseURL + '/search',\r\n                    params:{\r\n                        appkey:this.appkey,\r\n                        name:value\r\n                    }\r\n                }).then(data=>{\r\n                    this.$toast.clear();\r\n                    // console.log(data);\r\n                    if(data.data.code == 'Q001'){\r\n                        this.searchList = data.data.result;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=688fb365&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}