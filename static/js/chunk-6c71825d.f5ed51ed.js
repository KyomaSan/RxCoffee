(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c71825d"],{"0ebc":function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"security"},[o("div",{staticClass:"p-top-nav"},[o("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),o("User",{scopedSlots:t._u([{key:"fix",fn:function(){return[o("div",{staticClass:"content-box"},[o("van-cell",{attrs:{"is-link":"",title:"修改密码"},on:{click:t.showPopup}}),o("van-cell",{attrs:{"is-link":"",title:"注销账号"},on:{click:t.detoryLogin}})],1),o("div",{staticClass:"bottom-box"},[o("van-button",{attrs:{color:"#854C21",round:"",block:""},on:{click:t.logout}},[t._v("退出登录")])],1)]},proxy:!0}])}),o("van-popup",{attrs:{position:"bottom",closeable:""},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[o("div",{staticClass:"i-title"},[t._v("修改密码")]),o("div",{staticClass:"ipt-box"},[o("van-field",{attrs:{label:"旧密码",placeholder:"旧密码(首字母为字母且5~16位)",type:t.isoText?"text":"password","right-icon":t.isoText?"eye-o":"closed-eye"},on:{"click-right-icon":t.toggleisoText},model:{value:t.password.oldpass,callback:function(s){t.$set(t.password,"oldpass",s)},expression:"password.oldpass"}}),o("van-field",{attrs:{label:"新密码",placeholder:"新密码(首字母为字母且5~16位)",type:t.isnText?"text":"password","right-icon":t.isnText?"eye-o":"closed-eye"},on:{"click-right-icon":t.toggleisnText},model:{value:t.password.newpass,callback:function(s){t.$set(t.password,"newpass",s)},expression:"password.newpass"}}),o("van-button",{staticClass:"sunbmit-btn",attrs:{round:"",block:""},on:{click:t.refixpass}},[t._v("提交")])],1)])],1)},a=[],n=o("e4d7"),i=o("7088"),c={data:function(){return{show:!1,password:{oldpass:"",newpass:""},isoText:!1,isnText:!1}},components:{TopBackground:n["a"],User:i["a"]},methods:{onClickLeft:function(){this.$router.back()},showPopup:function(){this.show=!this.show},toggleisoText:function(){this.isoText=!this.isoText},toggleisnText:function(){this.isnText=!this.isnText},detoryLogin:function(){var t=this;this.alertshow=!this.alertshow,this.$dialog.confirm({title:"注销账号",message:"是否确定注销账号，一旦注销无法恢复！"}).then((function(){var s=t.$cookies.get("tokenString");s&&(t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),t.axios({method:"POST",url:t.baseURL+"/destroyAccount",data:{appkey:t.appkey,tokenString:s}}).then((function(s){console.log(s),t.$toast.clear(),700!=s.data.code?"G001"===s.data.code&&t.$toast({message:s.data.msg,duration:2e3}):t.$router.push({name:"Login"})})).catch((function(s){t.$toast.clear(),console.log("err ==> ",s),t.$toast({message:"销毁账户失败，请重试！",duration:2e3})})))})).catch((function(){console.log("取消")}))},refixpass:function(){var t=this,s=this.$cookies.get("tokenString");s?""!=this.password.oldpass&&""!=this.password.newpass?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.baseURL+"/updatePassword",data:{appkey:this.appkey,tokenString:s,password:this.password.newpass,oldPassword:this.password.oldpass}}).then((function(s){if(t.$toast.clear(),700==s.data.code)return t.$router.push({name:"Login"}),void t.$toast({message:s.data.msg,duration:2e3});"E001"===s.data.code&&(t.$toast({message:s.data.msg,duration:2e3}),t.show=!1,setTimeout((function(){t.$toast({message:"请重新登录",duration:2e3}),t.$router.push({name:"Login"})}),2e3))})).catch((function(s){t.$toast.clear()}))):this.$toast({message:"密码不能为空",forbidClick:!0,duration:1e3}):this.$router.push({name:"Login"})},logout:function(){var t=this,s=this.$cookies.get("tokenString");s?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.baseURL+"/logout",data:{appkey:this.appkey,tokenString:s}}).then((function(s){console.log(s),t.$toast.clear(),700!=s.data.code?"F001"===s.data.code&&(t.$toast({message:s.data.msg,duration:2e3}),setTimeout((function(){t.$router.push({name:"Login"})}),2e3)):t.$router.push({name:"Login"})})).catch((function(s){t.$toast.clear(),console.log("err ==> ",s)}))):this.$toast.loading({message:"尚未登录",forbidClick:!0,duration:0})}},created:function(){}},r=c,l=(o("7bc7"),o("2877")),d=Object(l["a"])(r,e,a,!1,null,"fbcda956",null);s["default"]=d.exports},"10cd":function(t,s,o){},"3a93":function(t,s,o){"use strict";o("10cd")},"56f5":function(t,s,o){},7088:function(t,s,o){"use strict";var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"personal"},[o("TopBackground"),t._t("fix")],2)},a=[],n=o("e4d7"),i={components:{TopBackground:n["a"]},methods:{onClickLeft:function(){this.$router.back()}}},c=i,r=(o("3a93"),o("2877")),l=Object(r["a"])(c,e,a,!1,null,"40358900",null);s["a"]=l.exports},"7bc7":function(t,s,o){"use strict";o("981b")},"981b":function(t,s,o){},b7e6:function(t,s,o){"use strict";o("56f5")},e4d7:function(t,s,o){"use strict";var e=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"topBackground"},[o("div",{staticClass:"img-box"})])}],n={name:"TopBackground"},i=n,c=(o("b7e6"),o("2877")),r=Object(c["a"])(i,e,a,!1,null,"a239ad60",null);s["a"]=r.exports}}]);
//# sourceMappingURL=chunk-6c71825d.f5ed51ed.js.map